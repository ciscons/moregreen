<!--
=========================================================
* Material Dashboard 2 - v3.0.4
=========================================================

* Product Page: https://www.creative-tim.com/product/material-dashboard
* Copyright 2022 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://www.creative-tim.com/license)
* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<script src="https://cdn.ckeditor.com/ckeditor5/35.0.1/classic/ckeditor.js"></script>
<script src="https://cdn.ckeditor.com/ckeditor5/34.0.0/classic/translations/ko.js"></script>
<th:block th:replace="~{./include/layout :: setContent( ~{:: .container-fluid}  ) }">

<style>

input[type=text], select, textarea{
  width: 100%;
  padding: 12px;
  border: 1px solid #ccc;
  border-radius: 4px;
  box-sizing: border-box;
  resize: vertical;
}

/* Style the label to display next to the inputs */
label {
  padding: 12px 12px 12px 0;
  display: inline-block;
}

/* Style the submit button */
input[type=submit] {
  background-color: #04AA6D;
  color: white;
  padding: 12px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  float: right;
}

/* Style the container */
.container {
  border-radius: 5px;
  background-color: #f2f2f2;
  padding: 20px;
}

/* Floating column for labels: 25% width */
.col-25 {
  float: left;
  width: 25%;
  margin-top: 6px;
}

/* Floating column for inputs: 75% width */
.col-75 {
  float: left;
  width: 75%;
  margin-top: 6px;
}

/* Clear floats after the columns */
.row:after {
  content: "";
  display: table;
  clear: both;
}

/* Responsive layout - when the screen is less than 600px wide, make the two columns stack on top of each other instead of next to each other */
@media screen and (max-width: 600px) {
  .col-25, .col-75, input[type=submit] {
    width: 100%;
    margin-top: 0;
  }
}

</style>
    
<div class="container-fluid py-4">
	<div class="d-lg-flex">
		<div>
			<h5 class="mb-0">프로젝트 신청 승인/반려</h5>
		</div>
	</div>
	</br>
	<div style="padding-bottom: 40px;">
		<form name="actionForm" action="###" method="###" >
		
			<div class="row" style="display: flex;">
				<div class="col-25">
					<label for="f_num">번호</label>
				</div>
				<div class="col-75">
					<input id="f_num" type="text" th:value="${dto.f_num}" readonly></input>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label for="f_title">프로젝트 명칭</label>
				</div>
				<div class="col-75">
					<input id="f_title" th:value="${dto.f_title}"></input>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label for="f_days">프로젝트 기간</label>
				</div>
				<div class="col-75">
	       			<select id="f_days" name="f_days" onFocus="this.initialSelect = this.selectedIndex;" onChange="this.selectedIndex = this.initialSelect;" style="color: #a3a0a0;" disabled>
			          	<option value="30">30일</option>
			          	<option value="60">60일</option>
			          	<option value="90">90일</option>
		        	</select>
		        </div>
		    </div>
			
			<div class="row">
				<div class="col-25">
					<label for="m_id">신청자 아이디</label>
				</div>	
				<div class="col-75">
					<input id="m_id" readonly></input>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label for="f_bname">상호명</label>
				</div>
				<div class="col-75">
					<input id="f_bname" th:value="${dto.f_bname}" readonly></input>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label for="f_target">목표 금액</label>
				</div>
				<div class="col-75">
					<input id="f_target" th:value="${dto.f_target}" readonly></input>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label for="f_reward">리워드 명칭</label>
				</div>
				<div class="col-75">
					<input id="f_reward" th:value="${dto.f_reward}" readonly></input>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label for="f_money">리워드 금액</label>
				</div>
				<div class="col-75">
					<input id="f_money" th:value="${dto.f_price}" readonly></input>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label>대표 사진</label>
				</div>
				<div class="col-75">
					<input type="file" name="file" id="main_file" disabled>
					<input type="file" name="file" id="main_file" disabled>
					<input type="file" name="file" id="main_file" disabled>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label>내용 사진</label>
				</div>
				<div class="col-75">
					<input type="file" name="file" id="main_file" disabled>
					<input type="file" name="file" id="main_file" disabled>
					<input type="file" name="file" id="main_file" disabled>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label for="f_content">프로젝트 내용</label>
				</div>
				<div class="col-75">
					<textarea id="editor">[[${dto.f_content}]]</textarea>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label for="f_bnum">사업자 등록번호</label>
				</div>
				<div class="col-75">
					<input id="f_bnum" th:value="${dto.f_bnum}" readonly></input>
				</div>
			</div>
			
			<div class="row">
			<th:block th:each="uploadDto : ${list}">
				<div class="col-25">
					<label>사업자등록증</label>
				</div>
				<div class="col-75">
						<img th:src="'/upload/' + ${uploadDto.filepath} + '/' + ${uploadDto.uuid} + '_' + ${uploadDto.filename}">
				</div>
			</th:block>
			</div>
			<br>
			
			<input type="hidden" name="f_num" th:value="${dto.f_num}">
			
			<div class="row">
				<a class="btn btn-success" style="width: auto; margin: auto;" th:onclick="|funding_accept()|">승인</a>
				<a class="btn btn-danger" style="width: auto; margin: auto;" th:onclick="|funding_reject()|">반려</a>
			</div>
		</form>
	</div>
</div>
</th:block>

<!-- <script>
	ClassicEditor.create( document.querySelector( '#editor' ), {
		language: "ko"
	} ).catch( error => { console.error( error );
	});
</script> -->

<script th:inline="javascript">
	function funding_accept() {
		event.preventDefault(); //태그가 가진 기본이벤트 중지
		console.log( document.actionForm );
		document.actionForm.action = "fundingAccept";
		document.actionForm.method = "post";
		document.actionForm.submit(); //서브밋 
	}

	function funding_reject() {
		event.preventDefault();
		document.actionForm.action = "fundingReject";
		document.actionForm.method = "post";
		document.actionForm.submit(); //서브밋
	}
	
	console.log(uploadDto.filepath)
</script>

</html>