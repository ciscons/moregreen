<!--
=========================================================
* Material Dashboard 2 - v3.0.4
=========================================================

* Product Page: https://www.creative-tim.com/product/material-dashboard
* Copyright 2022 Creative Tim (https://www.creative-tim.com)
* Licensed under MIT (https://www.creative-tim.com/license)
* Coded by Creative Tim

=========================================================

* The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.
-->
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="~{./include/layout :: setContent( ~{:: .container-fluid}  ) }">
    
<style>

#container {
    width: 1000px;
    margin: 20px auto;
}
.ck-editor__editable[role="textbox"] {
    /* editing area */
    min-height: 200px;
}
.ck-content .image {
    /* block images */
    max-width: 80%;
    margin: 20px auto;
}

</style>
    
<div class="container-fluid py-4">
	<div class="d-lg-flex">
		<div>
			<h5 class="mb-0">펀딩 수정</h5>
			<p class="text-sm mb-0">펀딩 명칭과 내용만 수정 가능합니다.</p>
		</div>
	</div>
	</br>
		<form action="modifyFunding" method="post" th:each="dto : ${fundingList}">
			<div class="row" style="display: flex;">
				<div class="col-25">
					<label for="f_num">번호</label>
				</div>
				<div class="col-75">
					<input id="f_num" name="f_num" type="text" th:value="${dto.f_num}" readonly></input>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label for="f_title">펀딩 명칭</label>
				</div>
				<div class="col-75">
					<input id="f_title" name="f_title" th:value="${dto.f_title}"></input>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label for="f_days">펀딩 기간</label>
				</div>
				<div class="col-75">
	       			<select id="f_days" name="f_days" onFocus="this.initialSelect = this.selectedIndex;" onChange="this.selectedIndex = this.initialSelect;" style="color: #a3a0a0;" disabled>
			          	<option value="30">30일</option>
			          	<option value="60">60일</option>
			          	<option value="90">90일</option>
		        	</select>
		        </div>
		    </div>
			
			<div class="row">
				<div class="col-25">
					<label for="f_rate">펀딩률</label>
				</div>
				<div class="col-75">
					<input id="f_rate" th:value="${dto.f_rate}" readonly></input>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label for="m_id">신청자 아이디</label>
				</div>	
				<div class="col-75">
					<input id="m_id" th:value="${dto.m_id}" readonly></input>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label for="f_bname">상호명</label>
				</div>
				<div class="col-75">
					<input id="f_bname" th:value="${dto.f_bname}" readonly></input>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label for="f_target">목표 금액</label>
				</div>
				<div class="col-75">
					<input id="f_target" th:value="${dto.f_target}" readonly></input>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label for="f_totalmoney">현재 금액</label>
				</div>
				<div class="col-75">
					<input id="f_totalmoney" th:value="${dto.f_totalmoney}" readonly></input>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label for="f_reward">리워드 명칭</label>
				</div>
				<div class="col-75">
					<input id="f_reward" th:value="${dto.f_reward}" readonly></input>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label for="f_price">리워드 금액</label>
				</div>
				<div class="col-75">
					<input id="f_price" th:value="${dto.f_price}" readonly></input>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label for="f_bnum">사업자 등록번호</label>
				</div>
				<div class="col-75">
					<input id="f_bnum" th:value="${dto.f_bnum}" readonly></input>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label>사업자 등록증</label>
				</div>
				<div class="col-75">
					<th:block th:each="file : ${dto.files}">
						<th:block th:if="${file.i_type == 0}">
							<img th:src="'/upload/' + ${file.uuid} + '_' + ${file.filename}" alt="#">
						</th:block>
					</th:block>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label>대표 사진</label>
				</div>
				<div class="col-75">
					<th:block th:each="file : ${dto.files}">
						<th:block th:if="${file.i_type == 1}">
							<img th:src="'/upload/main_' + ${file.uuid} + '_' + ${file.filename}" alt="#">
						</th:block>
					</th:block>
				</div>
			</div>
			
			<div class="row">
				<div class="col-25">
					<label>내용 사진</label>
				</div>
				<div class="col-75">
					<th:block th:each="file : ${dto.files}">
						<th:block th:if="${file.i_type == 2}">
							<img th:src="'/upload/content_' + ${file.uuid} + '_' + ${file.filename}" alt="#">
						</th:block>
					</th:block>
				</div>
			</div>
			<div class="col-25">
				<label for="f_content">내용</label>
			</div>
			<div id="container">
	            <textarea name="f_content" id="editor">[[${dto.f_content}]]
	            </textarea>
	        </div>
			<br>
			
			<div class="row">
				<button type="submit" class="btn btn-success" style="width: auto; margin: auto;">수정하기</button>
			</div>
		</form>
	</div>
</th:block>
<script src="https://cdn.ckeditor.com/ckeditor5/35.1.0/super-build/ckeditor.js"></script>
<script th:inline="javascript">

//This sample still does not showcase all CKEditor 5 features (!)
// Visit https://ckeditor.com/docs/ckeditor5/latest/features/index.html to browse all the features.
CKEDITOR.ClassicEditor.create(document.getElementById("editor"), {
    // https://ckeditor.com/docs/ckeditor5/latest/features/toolbar/toolbar.html#extended-toolbar-configuration-format
    toolbar: {
        items: [
            'exportPDF','exportWord', '|',
            'findAndReplace', 'selectAll', '|',
            'heading', '|',
            'bold', 'italic', 'strikethrough', 'underline', '|',
            'numberedList', 'todoList', '|',
            'outdent', 'indent', '|',
            'undo', 'redo',
            '-',
            'fontSize', 'fontFamily', 'fontColor', 'fontBackgroundColor', 'highlight', '|',
            'alignment', '|',
            'link', 'insertImage', 'blockQuote', 'mediaEmbed', '|',
            'specialCharacters', 'horizontalLine', 'pageBreak', '|',
            'textPartLanguage', '|',
            'sourceEditing'
        ],
        shouldNotGroupWhenFull: true
    },
    // Changing the language of the interface requires loading the language file using the <script> tag.
    language: 'ko',
    
    list: {
        properties: {
            styles: true,
            startIndex: true,
            reversed: true
        }
    },
    // https://ckeditor.com/docs/ckeditor5/latest/features/headings.html#configuration
    heading: {
        options: [
            { model: 'paragraph', title: 'Paragraph', class: 'ck-heading_paragraph' },
            { model: 'heading1', view: 'h1', title: 'Heading 1', class: 'ck-heading_heading1' },
            { model: 'heading2', view: 'h2', title: 'Heading 2', class: 'ck-heading_heading2' },
            { model: 'heading3', view: 'h3', title: 'Heading 3', class: 'ck-heading_heading3' },
            { model: 'heading4', view: 'h4', title: 'Heading 4', class: 'ck-heading_heading4' },
            { model: 'heading5', view: 'h5', title: 'Heading 5', class: 'ck-heading_heading5' },
            { model: 'heading6', view: 'h6', title: 'Heading 6', class: 'ck-heading_heading6' }
        ]
    },
    // https://ckeditor.com/docs/ckeditor5/latest/features/editor-placeholder.html#using-the-editor-configuration
    placeholder: '내용을 입력하세요',
    // https://ckeditor.com/docs/ckeditor5/latest/features/font.html#configuring-the-font-family-feature
    fontFamily: {
        options: [
            'default',
            'Arial, Helvetica, sans-serif',
            'Courier New, Courier, monospace',
            'Georgia, serif',
            'Lucida Sans Unicode, Lucida Grande, sans-serif',
            'Tahoma, Geneva, sans-serif',
            'Times New Roman, Times, serif',
            'Trebuchet MS, Helvetica, sans-serif',
            'Verdana, Geneva, sans-serif',
            '궁서체',
    		 '바탕',
    		 '돋움'
        ],
        supportAllValues: true
    },
    // https://ckeditor.com/docs/ckeditor5/latest/features/font.html#configuring-the-font-size-feature
    fontSize: {
        options: [ 10, 12, 14, 'default', 18, 20, 22 ],
        supportAllValues: true
    },
    // Be careful with the setting below. It instructs CKEditor to accept ALL HTML markup.
    // https://ckeditor.com/docs/ckeditor5/latest/features/general-html-support.html#enabling-all-html-features
    htmlSupport: {
        allow: [
            {
                name: /.*/,
                attributes: true,
                classes: true,
                styles: true
            }
        ]
    },
    // Be careful with enabling previews
    // https://ckeditor.com/docs/ckeditor5/latest/features/html-embed.html#content-previews
    htmlEmbed: {
        showPreviews: true
    },
    // https://ckeditor.com/docs/ckeditor5/latest/features/link.html#custom-link-attributes-decorators
    link: {
        decorators: {
            addTargetToExternalLinks: true,
            defaultProtocol: 'https://',
            toggleDownloadable: {
                mode: 'manual',
                label: 'Downloadable',
                attributes: {
                    download: 'file'
                }
            }
        }
    },
    // https://ckeditor.com/docs/ckeditor5/latest/features/mentions.html#configuration
    // The "super-build" contains more premium features that require additional configuration, disable them below.
    // Do not turn them on unless you read the documentation and know how to configure them and setup the editor.
    removePlugins: [
        // These two are commercial, but you can try them out without registering to a trial.
        // 'ExportPdf',
        // 'ExportWord',
        'CKBox',
        'CKFinder',
        'EasyImage',
        // This sample uses the Base64UploadAdapter to handle image uploads as it requires no configuration.
        // https://ckeditor.com/docs/ckeditor5/latest/features/images/image-upload/base64-upload-adapter.html
        // Storing images as Base64 is usually a very bad idea.
        // Replace it on production website with other solutions:
        // https://ckeditor.com/docs/ckeditor5/latest/features/images/image-upload/image-upload.html
        // 'Base64UploadAdapter',
        'RealTimeCollaborativeComments',
        'RealTimeCollaborativeTrackChanges',
        'RealTimeCollaborativeRevisionHistory',
        'PresenceList',
        'Comments',
        'TrackChanges',
        'TrackChangesData',
        'RevisionHistory',
        'Pagination',
        'WProofreader',
        // Careful, with the Mathtype plugin CKEditor will not load when loading this sample
        // from a local file system (file://) - load this site via HTTP server if you enable MathType
        'MathType'
    ]
});

</script>

</html>